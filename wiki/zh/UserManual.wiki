#summary ITH 使用手册

= 简介 =

Interactive Text Hooker (ITH) 是日本文字游戏的文字提取工具。它是构建自动翻译系系的最初环节。ITH的主要功能是从程序中截取文字，并将其整理成干净的形式。ITH 的主要构想来自AGTH。ITH与AGTH的工作方式十分相似，同时相比AGTH具有很多优势。

= 系统需求 =

英特尔奔腾4或更新的?理器。推荐操作系统Windows XP或更新的Windows系统。技术角度讲处理器必须支持SSE2指令集，否则在程序启动后会报错。

= 基本用法 =

== 安装与启动 ==


ITH包括3个文件，分别是ITH.exe，ITH.dll和ITH_engine.dll。这三个文件必须放在同一文件夹内。ITH需要管理员权限才能正常工作。如果使用的系统是Vista/7，则需要用管理员身份来运行ITH。 

== 用启界面 ==

第一行包括8个按键<br>
*Process*: 打开 _进程浏览器_ 。<br>
*Thread*: 打开 _文本片段管理器_ 。<br>
*Hook*: 打开 _钩子编辑器_ 。<br>
*Profile*: 打开 _配置管理器_ 。<br>
*Option*: 打开 _选项_ 。<br>
*Top*: 使ITH总在最前端显示。<br>
*Clear*: 清除当前文本片段。<br>
*Save*: 保存当前配置。<br>

第二行有一个较短的下拉菜单和一个可编辑区域。<br>
短下拉菜单是 _进程列表_ 。 这里面包括所有已注入的进程号和进程名。<br>
可编辑区域是 _命令行_ 。可以在这里输入命令使ITH执行相应操作。

第三行是一个较长的下拉菜单，称为 _文本片段列表_ 。这里包含所有可用的文本片段。在这里选择其中之一以改变 _文本区域_ 的内容。

_文本片段列表_ 下方是 _文本区域_ 。这里显示该片段包含的文本。

== 注入ITH模块==

文本提取的第一本是注入ITH模块。打开 _进程浏览器_ 。左侧是所有ITH可注入进程的列表。这个列表按进程创建时间排序。所以最新的进程会出现在列表的顶端。找到需要注入的进程，单击 *Attach* 。如果ITH注入成功会显示相应消息。单击 *OK* 关闭此窗口。

== 选择文本片段 ==

在ITH提取到文字之后，会将它们分放到不同的 _文本片段_ 里。一个 _文本片段_ 里包含所有提取到文字的一部分。在 _文本片段列表_ 中选择某个之后，文本区域会显示该片段的文字。默认情况下只有一个名为 *ConsoleOutput* 的片段。通常随着游戏进行并显示文字，新的文本片段会加入到这个列表中。如果游戏已经显示了文字而列表中只有ConsoleOutput，那么可能需要插入自定义的钩子来产生新的文本。

== 剪贴板拷贝 ==

ITH可以将提取到的文字拷贝到剪贴板，同时其它的剪贴板的翻译软件可以读取这些文字并进行翻译。在 _文本区域_ 里选中某段文字，同时被选中的文字会被拷贝到剪贴板。ITH还可以自动将提取到的最后一句拷贝到剪贴板。要进行这一设置，打开_选项_并将 *Auto copy to clipboard* 选中。

== 保存选择 ==

每次启动游戏都手动注入并选择文本片段是件很麻烦的事。当初次注入成功并选择某个文本片段之后，单击 *Save* 保存当前选择。ITH会将需要的信息保存到ITH.pro。下次再启动这个游戏的时候，ITH会自动注入此游戏并选择相应的文本片段。

== 连接文本片段 ==

当需要的文字出现在不同的片段中，你并不需要每次都在这些片段中切换。ITH提供一种链接机制处理这种情况。在文本片段列表中找到相应的片段，每个片段名的最初4位数字是这个片段的标识符。通过这个标识符来指定需要链接的片段。需要注意的是，这个数字是十六进制的，所以字母A-F也是有效的。为了执行一次链接操作，需要2个标识符来。即 _源片段_ 和 _目标片段_ 。ITH提供2方式链接片段。 
  * 单击 *Thread* 打开_文本片段管理器_。在顶端下拉菜单中选择源片段。在其下方较短的下拉菜单中选择目标片段。单击 *Set* 。
  * 在 _命令行_ 中键入L"源片段"-"目标片段"。不包括引号，只有数字。例LA-4.。

== 自定义钩子 == 

如果想要的文字不在任何文本片段中，则需要插入自定义钩子来产生新片段。有一小段字符串称为 _H-code_ （特殊码）来指定钩子。特殊码格式较复杂，一般会有类似如下的形式/HA-8:-14@402050。在_命令行_中键入特殊码，ITH会插入新的钩子。随着游戏进行，新的文本片段会出现在_文本片段列表_中。特殊码通常与游戏甚至版本相关。编写特殊码需要具有一定的编程能力并且熟悉x86汇编语言。如果这对你很陌生，你需要等待其它人来编写。你可以到Hongfire论坛发贴请求。

